* for histogram
#+BEGIN_SRC python
import numpy
# data is an mmap object
array = numpy.ndarray.__new__(numpy.ndarray,
                              shape=(len(data),),
                              dtype=numpy.uint8,
                              buffer=data,
                              offset=0,
                              strides=(1,),
                              order='C')
#+END_SRC
* entropy
#+BEGIN_SRC python
import math

entropy = 0

for count in byte_counts:
    # If no bytes of this value were seen in the value, it doesn't affect
    # the entropy of the file.
    if count == 0:
        continue
    # p is the probability of seeing this byte in the file, as a floating-
    # point number
    p = 1.0 * count / total
    entropy -= p * math.log(p, 2)
#+END_SRC
